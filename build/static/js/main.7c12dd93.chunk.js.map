{"version":3,"sources":["components/Signup.js","components/Signin.js","components/Home.js","components/BlogCard.js","components/Explore.js","reducer/userReducer.js","components/Navbar.js","components/ControlledEditor.js","components/Profile.js","components/UserProfile.js","components/EditBlog.js","App.js","index.js"],"names":["Signup","history","useHistory","useState","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","mobileError","setMobileError","username","setUsername","mobile","setMobile","undefined","image","setImage","check","setCheck","url","setUrl","checkError","setCheckError","status","setStatus","useEffect","uploadFields","fetch","method","headers","body","JSON","stringify","pic","timeOfCreation","Date","now","then","res","json","data","message","push","catch","err","console","log","className","onSubmit","e","preventDefault","trim","match","FormData","append","uploadPic","type","placeholder","value","onChange","target","required","autoFocus","inputMode","autoComplete","htmlFor","name","files","href","Signin","dispatch","useContext","UserContext","localStorage","setItem","token","user","payload","Home","BlogCard","title","postedBy","description","postedByPic","postedByUsername","postedOn","draftToHtml","parse","src","alt","to","getItem","_id","Number","toDateString","substr","dangerouslySetInnerHTML","__html","Explore","blogs","setBlogs","currentPage","map","blog","onClick","reducer","state","action","Navbar","clear","ControlledEditor","editorState","EditorState","createEmpty","onEditorStateChange","setState","titleChange","descriptionChange","submitHandler","convertToRaw","getCurrentContent","Math","round","result","this","wrapperClassName","editorClassName","Component","Profile","inputFileRef","useRef","profile","setProfile","userId","Authorization","oldUser","posts","current","click","width","height","followers","length","following","hidden","ref","uploadFile","post","id","pathname","UserProfile","EditBlog","createWithContent","convertFromRaw","props","location","React","withRouter","createContext","Routing","exact","path","App","useReducer","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+UA8IeA,G,OAzIA,WAEX,IAAMC,EAAUC,cAFA,EAISC,mBAAS,IAJlB,mBAITC,EAJS,KAIHC,EAJG,OAKeF,mBAAS,IALxB,mBAKTG,EALS,KAKAC,EALA,OAM6BJ,mBAAS,IANtC,mBAMTK,EANS,KAMOC,EANP,OAOSN,mBAAS,IAPlB,mBAOTO,EAPS,KAOHC,EAPG,OAQqBR,mBAAS,IAR9B,mBAQTS,EARS,KAQGC,EARH,OASaV,mBAAS,IATtB,mBASTW,EATS,KASAC,EATA,OAUUZ,mBAAS,IAVnB,mBAUTa,EAVS,KAUFC,EAVE,OAWSd,wBAASe,GAXlB,mBAWTC,EAXS,KAWHC,EAXG,OAYSjB,oBAAS,GAZlB,mBAYTkB,EAZS,KAYHC,EAZG,OAaKnB,mBAAS,IAbd,mBAaToB,EAbS,KAaLC,EAbK,OAcmBrB,mBAAS,IAd5B,mBAcTsB,EAdS,KAcEC,EAdF,OAeWvB,mBAAS,IAfpB,mBAeTwB,EAfS,KAeFC,EAfE,KAiBhBC,qBAAU,WACHN,GACCO,MAGN,CAACP,IACH,IA8BIO,EAAe,WAEnBC,MAAM,UAAU,CACZC,OAAO,OACRC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKC,KAAKC,UAAU,CAChBtB,WACAV,QACAY,SACAV,WACAe,QACAgB,IAAId,GAAO,4GACXe,eAAeC,KAAKC,UAIxBC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACCA,EAAKlC,MACNkB,EAAUgB,EAAKlC,QAGfkB,EAAUgB,EAAKC,SACd5C,EAAQ6C,KAAK,eAErBC,OAAM,SAAAC,GAAG,OAAEC,QAAQC,IAAIF,MAAMD,OAAM,SAAAC,GAAG,OAAEC,QAAQC,IAAIF,OAgCnD,OACI,8BACI,uBAAMG,UAAU,cAAcC,SA9BhB,SAACC,GACnBA,EAAEC,iBACFlD,EAAMmD,OACNjD,EAASiD,OACTzC,EAASyC,OACTvC,EAAOuC,OACJjD,IAAaE,GAAmBQ,EAAOwC,MAAM,0DAA4DnC,GACxGV,EAAS,IACTE,EAAe,IACfa,EAAc,IAEXP,EAtDK,WAChB,IAAMyB,EAAO,IAAIa,SACjBb,EAAKc,OAAO,OAAOvC,GACnByB,EAAKc,OAAO,gBAAgB,eAC5Bd,EAAKc,OAAO,aAAa,sBACzB3B,MAAM,kEAAkE,CACpEC,OAAO,OACPE,KAAKU,IACNH,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAEpB,EAAOoB,EAAKrB,QACvBwB,OAAM,SAAAC,GAAG,OAAEC,QAAQvC,MAAMsC,MA6CdW,GAEA7B,MAIDxB,IAAaE,GACnBG,EAAS,wBAENK,EAAOwC,MAAM,0DACb3C,EAAe,6BACfQ,GACAK,EAAc,2DAMd,UACI,uBAAOyB,UAAU,cAAcS,KAAK,OAAOC,YAAY,aAAaC,MAAOhD,EAAUiD,SAlFxE,SAACV,GACtBtC,EAAYsC,EAAEW,OAAOF,QAiFoGG,UAAU,EAAMC,WAAW,IAC5I,uBAAOf,UAAU,cAAcS,KAAK,OAAOC,YAAY,uBAAuBC,MAAO9C,EAAQmD,UAAU,UAAUJ,SAhFnG,SAACV,GAEzBpC,EAAUoC,EAAEW,OAAOF,QA8EsIG,UAAU,IACzJ,uBAAQd,UAAU,cAAeS,KAAK,QAAQC,YAAY,QAAQC,MAAO1D,EAAO2D,SA9FvE,SAACV,GAClBhD,EAASgD,EAAEW,OAAOF,QA6F8FG,UAAU,IAClH,uBAAOd,UAAU,cAAeS,KAAK,WAAWC,YAAY,iBAAiBC,MAAOxD,EAAUyD,SA5FlF,SAACV,GACrB9C,EAAY8C,EAAEW,OAAOF,QA2F4GG,UAAU,EAAMG,aAAa,QACtJ,uBAAQjB,UAAU,cAAeS,KAAK,WAAWC,YAAY,oBAAoBC,MAAOtD,EAAiBuD,SAzFtF,SAACV,GAC5B5C,EAAmB4C,EAAEW,OAAOF,QAwFuHG,UAAU,EAAMG,aAAa,QACzK,uBAAMjB,UAAU,cAAhB,UACA,uBAAOA,UAAU,wBAAwBkB,QAAQ,KAAjD,oCACA,uBAAOT,KAAK,OAAOT,UAAU,wBAAwBU,YAAY,iBAAiBS,KAAK,KAAKP,SAAY,SAACV,GAAD,OAAKjC,EAASiC,EAAEW,OAAOO,MAAM,UAErI,uBAAMpB,UAAU,cAAhB,cAA+B,uBAAOS,KAAK,WAAWU,KAAK,QAAQR,MAAM,SAASC,SAAU,kBAAIzC,GAAUD,MACzG,wBAAOgD,QAAQ,QAAf,0BAAoC,mBAAGG,KAAK,IAAR,yCACpC,4BAAI9D,IACJ,4BAAIE,IACJ,4BAAIa,IACJ,4BAAIE,IACJ,wBAAQiC,KAAK,SAAb,2BCzDDa,G,OAzEA,WAEX,IAAMxE,EAAUC,cAETwE,EAAYC,qBAAWC,GAAvBF,SAJS,EAMSvE,mBAAS,IANlB,mBAMTC,EANS,KAMHC,EANG,OAOeF,mBAAS,IAPxB,mBAOTG,EAPS,KAOAC,EAPA,OAQWJ,mBAAS,IARpB,mBAQTa,EARS,KAQFC,EARE,OASqBd,mBAAS,IAT9B,mBASTS,EATS,KASGC,EATH,OAUWV,mBAAS,IAVpB,mBAUTwB,EAVS,KAUFC,EAVE,KA2DhB,OACI,8BACI,uBAAMuB,UAAU,cAAcC,SAvCjB,SAACC,GAClBA,EAAEC,iBACFhD,EAASiD,OACTvC,EAAOuC,OACHvC,EAAOwC,MAAM,0DAIb3C,EAAe,IAChBkB,MAAM,UAAU,CACZC,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKC,KAAKC,UAAU,CAChBhC,QACAE,WACAU,aAELyB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAG,GACCA,EAAKI,IACPpB,EAAUgB,EAAKI,MAEX6B,aAAaC,QAAQ,MAAMlC,EAAKmC,OAChCF,aAAaC,QAAQ,OAAO3C,KAAKC,UAAUQ,EAAKoC,OAChDN,EAAS,CAACd,KAAK,OAAOqB,QAAQrC,EAAKoC,OACnC/E,EAAQ6C,KAAK,SAIrBC,OAAM,SAAAC,GAAG,OAAIC,QAAQvC,MAAMsC,OA1B3BnC,EAAe,yCAkCf,UACI,uBAAOsC,UAAU,cAAcc,UAAU,EAAML,KAAK,QAAQU,KAAK,QAAQT,YAAY,yBAAyBC,MAAO1D,EAAO2D,SAlD9G,SAACV,GACvBhD,EAASgD,EAAEW,OAAOF,UAkDV,uBAAOX,UAAU,cAAeS,KAAK,WAAWK,UAAU,EAAMJ,YAAY,iBAAiBS,KAAK,WAAWR,MAAOxD,EAAUyD,SAhD7G,SAACV,GAC1B9C,EAAY8C,EAAEW,OAAOF,UAgDb,uBAAOX,UAAU,cAAeU,YAAY,0CAA0CI,UAAU,EAAML,KAAK,OAAOE,MAAO9C,EAAQ+C,SA9ClH,SAACV,GACxBpC,EAAUoC,EAAEW,OAAOF,UA8CX,4BAAIlD,IACJ,4BAAIe,IACJ,wBAAQiC,KAAK,SAAb,2BC9DDsB,EARF,WACT,OACI,8BACE,4C,0BC2BKC,G,OA1BE,SAAC,GAA6E,IAA5EC,EAA2E,EAA3EA,MAAMC,EAAqE,EAArEA,SAASC,EAA4D,EAA5DA,YAAYpD,EAAgD,EAAhDA,KAAKqD,EAA2C,EAA3CA,YAAYC,EAA+B,EAA/BA,iBAAiBC,EAAc,EAAdA,SAE5E,OADAvD,EAAOwD,IAAavD,KAAKwD,MAAMzD,IAE3B,sBAAKiB,UAAU,YAAf,UACA,sBAAKA,UAAU,aAAf,UACA,uBAAMA,UAAU,aAAhB,UACI,qBAAKA,UAAU,uBACXyC,IAAKL,EAAaM,IAAI,wBAE1B,eAAC,IAAD,CAAM1C,UAAU,kBACf2C,GAAIT,IAAWlD,KAAKwD,MAAMd,aAAakB,QAAQ,SAASC,IAApD,8BAAmFX,GADxF,cACqG,6BAAKG,IAD1G,UAGD,mBAAGrC,UAAU,cAAb,SAA4B,IAAIZ,KAAK0D,OAAOR,IAAWS,eAAeC,OAAO,EAAE,SAG/E,sBAAKhD,UAAU,UAAf,UACA,oBAAIA,UAAU,eAAd,SAA8BiC,IAE7B,oBAAIjC,UAAU,qBAAd,SAAoCmC,IACpC,qBAAKnC,UAAU,cAAciD,wBAAyB,CAACC,OAAQnE,aCyC5DoE,G,OA9DC,WAAO,IAAD,EACOnG,mBAAS,IADhB,mBACXoG,EADW,KACLC,EADK,KAGdC,EAAc,EAElB5E,qBAAU,WACNE,MAAM,WAAW,CACbC,OAAO,MACPC,QAAQ,CACJ,cAAgB,UAAU4C,aAAakB,QAAQ,UAEpDtD,MAAK,SAAAC,GAAG,OAAGA,EAAIC,UACjBF,MAAK,SAAAC,GAAG,OAAI8D,EAAS9D,MACrBK,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC5B,IAgBF,OAEI,gCACJ,4CAEA,qBAAKG,UAAU,kBAAf,SAEIoD,EAAQA,EAAMG,KAAI,SAAAC,GAAI,OAAI,cAAC,EAAD,CAAUvB,MAAOuB,EAAKvB,MAEbjC,UAAU,QAEXmC,YAAaqB,EAAKrB,YAClBpD,KAAMyE,EAAKzE,KACXqD,YAAaoB,EAAKpB,YAClBC,iBAAkBmB,EAAKnB,iBACvBC,SAAUkB,EAAKlB,SACfJ,SAAUsB,EAAKtB,UANTsB,EAAKX,QAQrB,wBAO5B,wBAAQ7C,UAAU,cAAcyD,QAvCZ,WAEhB7E,MAAM,UAAD,OADL0E,GAAe,GACe,CAC1BzE,OAAO,MACPC,QAAQ,CACJ,cAAgB,UAAU4C,aAAakB,QAAQ,UAEpDtD,MAAK,SAAAC,GAAG,OAAGA,EAAIC,UACjBF,MAAK,SAAAC,GAAG,OAAI8D,EAAS9D,MACrBK,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OA8B9B,uBCxDS6D,EAAU,SAACC,EAAMC,GAC1B,MAAmB,SAAhBA,EAAOnD,KACCmD,EAAO9B,QAEC,UAAhB8B,EAAOnD,KACC,UADX,GCkCWoD,G,OApCA,WAAO,IAAD,EACQrC,qBAAWC,GAA7BkC,EADU,EACVA,MAAMpC,EADI,EACJA,SACPzE,EAAUC,cAuBhB,OACI,gCACI,cAAC,IAAD,CAAMiD,UAAU,OAAO2C,GAAIgB,EAAQ,IAAM,UAAzC,qBACA,oBAAI3D,UAAU,cAAd,SAxBD2D,EACO,CACF,6BAAY,cAAC,IAAD,CAAMhB,GAAG,WAAT,sBAAJ,KACR,6BAAY,cAAC,IAAD,CAAMA,GAAG,UAAT,0BAAJ,KACR,6BAAY,cAAC,IAAD,CAAMA,GAAG,WAAT,sBAAJ,KACR,6BAAY,wBAAQc,QAAS,WACzB/B,aAAaoC,QACbvC,EAAS,CAACd,KAAK,UACf3D,EAAQ6C,KAAK,MAHL,qBAAJ,MAON,CACF,6BAAY,cAAC,IAAD,CAAMgD,GAAG,UAAT,qBAAJ,KACR,6BAAY,cAAC,IAAD,CAAMA,GAAG,UAAT,qBAAJ,a,uECkDRoB,E,4MAjEdJ,MAAQ,CACJK,YAAaC,cAAYC,cACzBjC,MAAM,GACNE,YAAY,I,EAGhBgC,oBAAsB,SAACH,GACrB,EAAKI,SAAL,2BACK,EAAKT,OADV,IAEEK,kB,EAGJK,YAAc,SAACnE,GACb,EAAKkE,SAAL,2BACK,EAAKT,OADV,IAEE1B,MAAM/B,EAAEW,OAAOF,U,EAGnB2D,kBAAoB,SAACpE,GACnB,EAAKkE,SAAL,2BACK,EAAKT,OADV,IAEExB,YAAYjC,EAAEW,OAAOF,U,EAGzB4D,cAAgB,SAACrE,GACfA,EAAEC,iBAEFvB,MAAM,UAAU,CACdC,OAAO,OACPC,QAAQ,CACN,eAAe,mBACf,cAAgB,UAAU4C,aAAakB,QAAQ,QAEnD7D,KAAKC,KAAKC,UAAU,CAClBgD,MAAM,EAAK0B,MAAM1B,MACjBE,YAAY,EAAKwB,MAAMxB,YACvBpD,KAAKC,KAAKC,UAAUuF,uBAAa,EAAKb,MAAMK,YAAYS,sBACxDnC,SAASoC,KAAKC,OAAO,IAAIvF,KAAO,SAEjCE,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAAQF,MAAK,SAAAsF,GAAM,OAAI9E,QAAQC,IAAI6E,MACnDhF,OAAM,SAAAC,GAAG,OAAEC,QAAQC,IAAIF,O,uDAEd,IACAmE,EAAgBa,KAAKlB,MAArBK,YAGR,OACE,8BACA,uBAAMhE,UAAU,cAAcC,SAAU4E,KAAKN,cAA7C,UACE,uBAAOvE,UAAU,eAAeS,KAAK,OAAOC,YAAY,cAAcC,MAAOkE,KAAKlB,MAAM1B,MAAOrB,SAAUiE,KAAKR,YAAavD,UAAQ,IACnI,uBAAQd,UAAU,eAAeS,KAAK,OAAOC,YAAY,oBAAoBC,MAAOkE,KAAKlB,MAAMxB,YAAavB,SAAUiE,KAAKP,kBAAmBxD,UAAQ,IACtJ,cAAC,SAAD,CACEJ,YAAY,wBACZsD,YAAaA,EACbc,iBAAiB,eACjBC,gBAAgB,cAChBZ,oBAAqBU,KAAKV,sBAE5B,uBAAOnE,UAAU,SAASS,KAAK,oB,GA3DRuE,aC4HhBC,G,OA/HC,WAEZ,IAAMC,EAAeC,iBAAQ,MAFX,EAIWnI,mBAAS,IAJpB,mBAIXoI,EAJW,KAIHC,EAJG,OAKOrI,mBAAS,IALhB,mBAKXgB,EALW,KAKLC,EALK,KAOZqH,EAAStG,KAAKwD,MAAOd,aAAakB,QAAQ,SAAUC,IAcpD/F,EAAUC,cAChB2B,qBAAU,WACNE,MAAM,SAAD,OAAU0G,GAAS,CACpBxG,QAAQ,CACJyG,cAAc,UAAU7D,aAAakB,QAAQ,UAElDtD,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAC,GAAG,OAAI8F,EAAW9F,MACvBK,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC5B,IAEFnB,qBAAU,WACN,GAAGV,EAAM,CAEL,IAAMyB,EAAO,IAAIa,SACjBb,EAAKc,OAAO,OAAOvC,GACnByB,EAAKc,OAAO,gBAAgB,eAC5Bd,EAAKc,OAAO,aAAa,sBACzB3B,MAAM,kEAAkE,CACpEC,OAAO,OACPE,KAAKU,IACNH,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACZF,MAAK,SAAAG,GACFb,MAAM,oBAAoB,CACtBC,OAAO,MACPC,QAAQ,CACJ,eAAe,mBACf,cAAgB,UAAU4C,aAAakB,QAAQ,QAEnD7D,KAAKC,KAAKC,UACN,CAACC,IAAIO,EAAKrB,QAEfkB,MAAK,SAAAG,GAAI,OAAIA,EAAKD,UACpBF,MAAK,SAAAG,GACF,IAAM+F,EAAUxG,KAAKwD,MAAMd,aAAakB,QAAQ,SAChD4C,EAAQtG,IAAMO,EAAKP,IACnBwC,aAAaC,QAAQ,OAAO3C,KAAKC,UAAUuG,IAC3CH,EAAW,CAACxD,KAAK,2BACVuD,EAAQvD,MADC,IAEZ3C,IAAIO,EAAKP,MAEXuG,MAAML,EAAQK,iBAQjC,CAACzH,IASJ,OACI,8BAEMoH,EAAU,gCACZ,sBAAKpF,UAAU,eAAf,UACI,sBAAKA,UAAU,mBAAf,UACK,wBAAQA,UAAU,wBAAwByD,QAVvC,WAChByB,EAAaQ,QAAQC,SASR,SAA8D,qBAAKlD,IAAK2C,EAAQvD,KAAK3C,IAAKwD,IAAI,eAAekD,MAAM,OAAOC,OAAO,WACjI,oBAAI7F,UAAU,mBAAd,SAAkCoF,EAAQvD,KAAKlE,cAEpD,sBAAKqC,UAAU,sBAAf,UACI,oBAAGA,UAAU,oBAAb,UAAkCoF,EAAQvD,KAAKiE,UAAUC,OAAzD,gBACA,oBAAG/F,UAAU,oBAAb,UAAkCoF,EAAQvD,KAAKmE,UAAUD,OAAzD,mBAGJ,uBACKE,QAAQ,EACTxF,KAAK,OACJyF,IAAKhB,EACNtE,SAAU,SAAAV,GAAC,OA1BR,SAACA,GAChBjC,EAASiC,EAAEW,OAAOO,MAAM,IAyBG+E,CAAWjG,SAI9B,uBACA,uBACA,qBAAKF,UAAU,kBAAf,SAEIoF,EAAQK,MAAMlC,KAAI,SAAA6C,GACb,OAAO,sBAAKpG,UAAU,gBAAf,UACL,yBAAQA,UAAU,mBAAmByD,QAAS,kBAnGnD4C,EAmGgED,EAAKvD,IAnGlEZ,EAmGsEmE,EAAKnE,MAnGrEE,EAmG2EiE,EAAKjE,YAnGpEpD,EAmGgFqH,EAAKrH,UAhGxHjC,EAAQ6C,KAAK,CACT2G,SAAS,YACT3C,MAAM,CACF0C,KACApE,QACAE,cACApD,UATK,IAACsH,EAAGpE,EAAME,EAAYpD,GAmGhB,cAA6G,mBAAGiB,UAAU,gBAAb,SAA6B,iCAASoG,EAAKnE,aACvJ,mBAAGjC,UAAU,sBAAb,SAAoCoG,EAAKjE,gBAFDiE,EAAKvD,aAa9D,+CCjHI0D,EARM,WACjB,OACI,8BACG,mDCELC,G,mNAEF7C,MAAQ,CACJK,YAAaC,cAAYwC,kBAAkBC,yBAAe1H,KAAKwD,MAAM,EAAKmE,MAAMC,SAASjD,MAAM5E,QAC/FkD,MAAM,EAAK0E,MAAMC,SAASjD,MAAM1B,MAChCE,YAAY,EAAKwE,MAAMC,SAASjD,MAAMxB,a,EAExCgC,oBAAsB,SAACH,GACrB,EAAKI,SAAL,2BACK,EAAKT,OADV,IAEEK,kB,EAGJK,YAAc,SAACnE,GACb,EAAKkE,SAAL,2BACK,EAAKT,OADV,IAEE1B,MAAM/B,EAAEW,OAAOF,U,EAGnB2D,kBAAoB,SAACpE,GACnB,EAAKkE,SAAL,2BACK,EAAKT,OADV,IAEExB,YAAYjC,EAAEW,OAAOF,U,EAGzB4D,cAAgB,SAACrE,GACfA,EAAEC,iBACFL,QAAQC,IAAI,EAAK4D,MAAM1B,MAAM,EAAK0B,MAAMxB,YAAY,EAAKwB,MAAMK,aAC/DpF,MAAM,cAAc,CAChBC,OAAO,MACPC,QAAQ,CACJ,eAAe,mBACf,cAAgB,UAAU4C,aAAakB,QAAQ,QAEnD7D,KAAKC,KAAKC,UAAU,CAChB4D,IAAI,EAAK8D,MAAMC,SAASjD,MAAM0C,GAC9BpE,MAAM,EAAK0B,MAAM1B,MACjBE,YAAY,EAAKwB,MAAMxB,YACvBpD,KAAKC,KAAKC,UAAUuF,uBAAa,EAAKb,MAAMK,YAAYS,sBACxDnC,SAASoC,KAAKC,OAAO,IAAIvF,KAAO,SAGrCE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAC,GAAG,OAAIO,QAAQC,IAAIR,MACxBK,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,uDAM1B,OAAO,uBAAMG,UAAU,cAAcC,SAAU4E,KAAKN,cAA7C,UACH,6CACA,uBAAOvE,UAAU,eAAeS,KAAK,OAAQE,MAAOkE,KAAKlB,MAAM1B,MAAOrB,SAAUiE,KAAKR,YAAavD,UAAQ,IAC1G,uBAAOd,UAAU,eAAgBS,KAAK,OAAQE,MAAOkE,KAAKlB,MAAMxB,YAAavB,SAAUiE,KAAKP,kBAAmBxD,UAAQ,IACvH,cAAC,SAAD,CACEJ,YAAY,wBACZoE,iBAAiB,eACjBC,gBAAgB,cAChBf,YAAaa,KAAKlB,MAAMK,YACxBG,oBAAqBU,KAAKV,sBAE5B,uBAAOnE,UAAU,SAASS,KAAK,SAASC,YAAY,kB,GA7DzCmG,IAAM7B,YAmEd8B,cAAWN,GC7Db/E,EAAcsF,0BAErBC,EAAU,WACZ,IAAMlK,EAAUC,cADA,EAESyE,qBAAWC,GAAvBF,GAFG,EAEToC,MAFS,EAEHpC,UAUb,OATA7C,qBAAU,WACN,IAAMmD,EAAO7C,KAAKwD,MAAMd,aAAakB,QAAQ,SAC1Cf,EACCN,EAAS,CAACd,KAAK,OAAOqB,QAAQD,IAE9B/E,EAAQ6C,KAAK,aAEnB,IAGE,eAAC,IAAD,WACI,cAAC,IAAD,CAAOsH,OAAK,EAACC,KAAK,IAAlB,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACA,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,WAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,mBAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,EAAD,UAuBGC,EAfJ,WAAM,IAAD,EAEaC,qBAAW1D,EN7DZ,MM2DZ,mBAELC,EAFK,KAECpC,EAFD,KAIZ,OAEM,cAACE,EAAY4F,SAAb,CAAsB1G,MAAO,CAACgD,QAAMpC,YAApC,SACA,eAAC,IAAD,WACG,cAAC,EAAD,IACA,cAAC,EAAD,UChEb+F,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.7c12dd93.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport {useHistory } from 'react-router-dom'\r\nimport '../css/Signup.css'\r\n\r\n\r\nconst Signup = ()=> {\r\n \r\n    const history = useHistory()\r\n\r\n    const [email,setEmail] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const [confirmPassword,setConfirmPassword] = useState('')\r\n    const [error,setError] = useState('') \r\n    const [mobileError,setMobileError] = useState('')\r\n    const [username,setUsername]=useState('')\r\n    const [mobile,setMobile]= useState('')\r\n    const [image,setImage] = useState(undefined) \r\n    const [check,setCheck] = useState(false)\r\n    const [url,setUrl] = useState('')\r\n    const [checkError,setCheckError] = useState('')\r\n    const [status,setStatus] = useState('')\r\n\r\n    useEffect(()=>{\r\n        if(url){\r\n            uploadFields()\r\n        }\r\n \r\n    },[url])\r\n    const emailHandler = (e)=>{\r\n        setEmail(e.target.value)\r\n    }\r\n    const passwordHandler = (e)=>{\r\n        setPassword(e.target.value)\r\n\r\n    } \r\n    const confirmPasswordHandler = (e)=>{\r\n        setConfirmPassword(e.target.value)\r\n    }\r\n    const handleNameChange = (e)=>{\r\n        setUsername(e.target.value)\r\n    }\r\n    const handleMobileChange =(e)=>{\r\n        \r\n      setMobile(e.target.value)\r\n    \r\n  }\r\n  const uploadPic = ()=>{\r\n    const data = new FormData()\r\n    data.append('file',image)\r\n    data.append('upload_preset','blogspreset')\r\n    data.append('cloud_name','blogsimagesaccount')\r\n    fetch('https://api.cloudinary.com/v1_1/blogsimagesaccount/image/upload',{\r\n        method:'post',\r\n        body:data\r\n    }).then(res=>res.json())\r\n    .then(data=>setUrl(data.url))\r\n    .catch(err=>console.error(err))\r\n  }\r\n  const uploadFields = ()=>{\r\n\r\n    fetch('/signup',{\r\n        method:'post', \r\n       headers:{\r\n           \"content-Type\":\"application/json\"\r\n       },\r\n       body:JSON.stringify({\r\n           username,\r\n           email,\r\n           mobile,\r\n           password,\r\n           check,\r\n           pic:url || 'https://res.cloudinary.com/blogsimagesaccount/image/upload/v1610867243/default-profile-picture_p1nqbe.png',\r\n           timeOfCreation:Date.now()\r\n\r\n\r\n       })\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n        if(data.error){\r\n          setStatus(data.error)\r\n        }\r\n        else{\r\n          setStatus(data.message)\r\n           history.push('/signin')\r\n        }\r\n}).catch(err=>console.log(err)).catch(err=>console.log(err))\r\n  }\r\n        \r\n    \r\n    const submitHandler = (e)=>{\r\n        e.preventDefault()\r\n        email.trim()\r\n        password.trim()\r\n        username.trim()\r\n        mobile.trim()\r\n        if(password === confirmPassword && mobile.match('^[6789][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$') && check ) {\r\n            setError('')\r\n            setMobileError('')\r\n            setCheckError('')\r\n            \r\n            if(image){\r\n                uploadPic()\r\n            }else{\r\n                uploadFields()\r\n            }\r\n        } \r\n        else{ \r\n            if(password !== confirmPassword)\r\n         setError('Enter same passwords')\r\n        \r\n        if(!mobile.match('^[6789][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$'))\r\n            setMobileError('Enter valid mobile number')\r\n        if(!check)\r\n            setCheckError('Please accept all terms and conditions to continue...')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"signup-form\" onSubmit={submitHandler}>\r\n                <input className=\"basic-input\" type=\"text\" placeholder=\"Enter Name\" value={username} onChange={handleNameChange} required={true} autoFocus={true}/>\r\n                <input className=\"basic-input\" type=\"text\" placeholder=\"Enter mobile number \" value={mobile} inputMode=\"numeric\" onChange={handleMobileChange} required={true} />\r\n                <input  className=\"basic-input\"  type=\"email\" placeholder=\"Email\" value={email} onChange={emailHandler} required={true}  />\r\n                <input className=\"basic-input\"  type=\"password\" placeholder=\"enter password\" value={password} onChange={passwordHandler} required={true} autoComplete=\"off\"/>\r\n                <input  className=\"basic-input\"  type=\"password\" placeholder=\"re-enter password\" value={confirmPassword} onChange={confirmPasswordHandler} required={true} autoComplete=\"off\"/>\r\n               <span className=\"signup-span\">\r\n               <label className=\"profile-picture-label\" htmlFor=\"dp\">Upload profile picture</label>\r\n               <input type=\"file\" className=\"profile-picture-input\" placeholder=\"Display piture\" name=\"dp\" onChange = {(e)=>setImage(e.target.files[0])} />\r\n               </span>\r\n               <span className=\"signup-span\"> <input type=\"checkbox\" name=\"terms\" value=\"accept\" onChange={()=>setCheck(!check)}></input>\r\n                <label htmlFor=\"terms\">I accept all <a href=\"#\">terms and conditions.</a></label></span>\r\n                <p>{error}</p>\r\n                <p>{mobileError}</p>\r\n                <p>{checkError}</p>\r\n                <p>{status}</p>\r\n                <button type=\"submit\" >Signup</button>\r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React,{useContext, useState} from 'react'\r\nimport { UserContext } from '../App'\r\nimport {useHistory} from 'react-router-dom'\r\nimport '../css/Signin.css'\r\n\r\nconst Signin = ()=> {\r\n\r\n    const history = useHistory()\r\n\r\n    const {dispatch} = useContext(UserContext)\r\n\r\n    const [email,setEmail] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const [mobile,setMobile] = useState('')\r\n    const [mobileError,setMobileError] = useState('')\r\n    const [status,setStatus] = useState('')\r\n\r\n    const handleEmailChange = (e)=>{\r\n        setEmail(e.target.value) \r\n    }\r\n    const handlePasswordChange = (e)=>{\r\n        setPassword(e.target.value)\r\n    }\r\n    const handleMobileChange = (e)=>{\r\n        setMobile(e.target.value)\r\n    }\r\n\r\n    const handleSubmit = (e)=>{\r\n        e.preventDefault()\r\n        password.trim()\r\n        mobile.trim()\r\n        if(!mobile.match('^[6789][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$')){\r\n            setMobileError('Enter mobile number in valid format!')\r\n        }\r\n        else{\r\n            setMobileError('')\r\n           fetch('/signin',{\r\n               method:'post',\r\n               headers:{\r\n                   \"Content-Type\":\"application/json\"\r\n               },\r\n               body:JSON.stringify({\r\n                   email,\r\n                   password,\r\n                   mobile\r\n               })\r\n           }).then(res => res.json())\r\n           .then(data => {\r\n               if(data.err)\r\n                setStatus(data.err)\r\n                else{\r\n                    localStorage.setItem('jwt',data.token)\r\n                    localStorage.setItem('user',JSON.stringify(data.user))\r\n                    dispatch({type:\"USER\",payload:data.user})\r\n                    history.push('/')\r\n                }\r\n                \r\n           })\r\n           .catch(err => console.error(err))\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"signin-form\" onSubmit={handleSubmit}>\r\n                <input className=\"basic-input\" required={true} type=\"email\" name=\"email\" placeholder=\"Enter registered email\" value={email} onChange={handleEmailChange}></input>\r\n                <input className=\"basic-input\"  type=\"password\" required={true} placeholder=\"Enter password\" name=\"password\" value={password} onChange={handlePasswordChange}></input>\r\n                <input className=\"basic-input\"  placeholder=\"Enter 10 digit registered mobile number\" required={true} type=\"text\" value={mobile} onChange={handleMobileChange}></input>\r\n                <p>{mobileError}</p>\r\n                <p>{status}</p>\r\n                <button type=\"submit\">Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signin\r\n","import React from 'react'\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div>\r\n          <h1>in home</h1>  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport draftToHtml from 'draftjs-to-html'\r\nimport { Link } from 'react-router-dom'\r\nimport '../css/BlogCard.css'\r\n\r\n\r\nconst BlogCard = ({title,postedBy,description,body,postedByPic,postedByUsername,postedOn}) => {\r\n    body = draftToHtml( JSON.parse(body) )\r\n    return (\r\n        <div className=\"blog-card\">\r\n        <div className=\"top-banner\">\r\n        <span className=\"image-name\">\r\n            <img className=\"posted-profile-image\"\r\n                src={postedByPic} alt=\"profile display img\"\r\n            /> \r\n            <Link className=\"posted-username\"\r\n             to={postedBy===JSON.parse(localStorage.getItem(\"user\"))._id ? `/profile` : `/profile/${postedBy}`}> <h4>{postedByUsername}</h4> </Link>\r\n          </span> \r\n           <p className=\"posted-date\">{new Date(Number(postedOn)).toDateString().substr(4,14)}</p>\r\n        </div>\r\n           \r\n           <div className=\"content\">\r\n           <h2 className=\"posted-title\">{title}</h2>\r\n            \r\n            <h5 className=\"posted-description\">{description}</h5>\r\n            <div className=\"posted-body\" dangerouslySetInnerHTML={{__html: body}}></div>\r\n           </div> \r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BlogCard\r\n","import React, { useEffect,useState} from 'react'\r\nimport BlogCard from './BlogCard'\r\nimport '../css/Explore.css'\r\n\r\nconst Explore = () => {\r\n    const [blogs,setBlogs] = useState('')\r\n\r\n    let currentPage = 1\r\n\r\n    useEffect(()=>{\r\n        fetch('/blogs/1',{\r\n            method:'get',\r\n            headers:{\r\n                'Authorization':'Bearer '+localStorage.getItem('jwt')\r\n            }\r\n        }).then(res =>res.json())\r\n        .then(res => setBlogs(res))\r\n        .catch(err => console.log(err))\r\n    },[])\r\n\r\n    const nextHandler = ()=>{\r\n        currentPage += 1\r\n        fetch(`/blogs/${currentPage}`,{\r\n            method:'get',\r\n            headers:{\r\n                'Authorization':'Bearer '+localStorage.getItem('jwt')\r\n            }\r\n        }).then(res =>res.json()) \r\n        .then(res => setBlogs(res))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        \r\n        <div>\r\n    <h1>In Explore</h1>\r\n    \r\n    <div className=\"blogs-container\">\r\n    {\r\n        blogs ? blogs.map(blog => <BlogCard title={blog.title} \r\n    \r\n                                           className=\"blogs\"\r\n                                           key={blog._id}\r\n                                          description={blog.description} \r\n                                          body={blog.body} \r\n                                          postedByPic={blog.postedByPic} \r\n                                          postedByUsername={blog.postedByUsername} \r\n                                          postedOn={blog.postedOn}\r\n                                          postedBy={blog.postedBy}\r\n                                    />\r\n                            ) : <p></p>\r\n                           \r\n                           \r\n                           }\r\n    \r\n    </div>\r\n    \r\n    <button className=\"next-button\" onClick={nextHandler}>Next</button>\r\n\r\n    \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Explore\r\n","export const initialState = null \r\n\r\n\r\nexport const reducer = (state,action) =>{\r\n    if(action.type === 'USER')\r\n        return action.payload\r\n\r\n    if(action.type === 'CLEAR')\r\n        return null\r\n}","import React,{useContext} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\nimport {useHistory} from 'react-router-dom'\r\nimport '../css/Navbar.css'\r\nconst Navbar = () => {\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const renderList = ()=>{\r\n        if(state){\r\n            return[\r\n                <li key=\"1\"><Link to=\"/profile\">Profile</Link></li>,\r\n                <li key=\"2\"><Link to=\"/create\">Create Blog</Link></li>,\r\n                <li key=\"3\"><Link to=\"/explore\">Explore</Link></li>,\r\n                <li key=\"4\"><button onClick={()=>{\r\n                    localStorage.clear()\r\n                    dispatch({type:'CLEAR'})\r\n                    history.push('/')\r\n                }}>logout</button></li>\r\n            ]\r\n        }else{\r\n            return[\r\n                <li key=\"1\"><Link to='/signin'>Signin</Link></li>,\r\n                <li key=\"2\"><Link to='/signup'>Signup</Link></li>\r\n\r\n            ]\r\n            \r\n        }\r\n    }\r\n\r\n    return (\r\n        <nav>\r\n            <Link className=\"logo\" to={state ? '/' : '/signin'}>Blogger</Link>\r\n            <ul className=\"navbar-list\">\r\n                {renderList()}\r\n            </ul>\r\n        \r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React, { Component } from 'react';\r\nimport { EditorState,convertToRaw } from 'draft-js';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport '../css/ControlledEditor.css'\r\n\r\nimport { Editor } from 'react-draft-wysiwyg';\r\n\r\nclass ControlledEditor extends Component {\r\n  state = {\r\n      editorState: EditorState.createEmpty(),\r\n      title:'',\r\n      description:''\r\n    }\r\n\r\n  onEditorStateChange = (editorState) => {\r\n    this.setState({\r\n      ...this.state,\r\n      editorState,\r\n    });\r\n  };\r\n  titleChange = (e)=>{\r\n    this.setState({\r\n      ...this.state,\r\n      title:e.target.value\r\n    })\r\n  }\r\n  descriptionChange = (e) =>{\r\n    this.setState({\r\n      ...this.state,\r\n      description:e.target.value\r\n    })\r\n  }\r\n  submitHandler = (e)=>{\r\n    e.preventDefault()\r\n    // console.log(this.state.title,this.state.description,JSON.stringify(convertToRaw(this.state.editorState.getCurrentContent())))\r\n    fetch('/create',{\r\n      method:'post',\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\r\n    },\r\n    body:JSON.stringify({\r\n      title:this.state.title,\r\n      description:this.state.description,\r\n      body:JSON.stringify(convertToRaw(this.state.editorState.getCurrentContent())),\r\n      postedOn:Math.round(+new Date()/1000)\r\n    })\r\n  }).then(res=>res.json()).then(result => console.log(result))\r\n  .catch(err=>console.log(err))\r\n}\r\n  render() {\r\n    const { editorState } = this.state;\r\n    // console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())))\r\n    // console.log(this.state.title,this.state.description,convertToRaw(editorState.getCurrentContent()))\r\n    return (\r\n      <div>\r\n      <form className=\"editor-form\" onSubmit={this.submitHandler}>\r\n        <input className=\"editor-input\" type=\"text\" placeholder=\"Enter Title\" value={this.state.title} onChange={this.titleChange} required />\r\n        <input  className=\"editor-input\" type=\"text\" placeholder=\"Enter Description\" value={this.state.description} onChange={this.descriptionChange} required />\r\n        <Editor\r\n          placeholder=\"Type body of the blog\"\r\n          editorState={editorState}\r\n          wrapperClassName=\"demo-wrapper\"\r\n          editorClassName=\"demo-editor\"\r\n          onEditorStateChange={this.onEditorStateChange}\r\n        />\r\n        <input className=\"button\" type=\"submit\" />\r\n      </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default  ControlledEditor","import React, { useEffect, useState,useRef } from 'react'\r\nimport { useHistory } from 'react-router';\r\nimport '../css/Profile.css'\r\n\r\nconst Profile = () => {\r\n\r\n    const inputFileRef = useRef( null );\r\n\r\n    const [profile,setProfile] = useState('')\r\n    const [image,setImage] = useState('')\r\n\r\n    const userId = JSON.parse( localStorage.getItem(\"user\") )._id\r\n    const editPost = (id,title,description,body)=>{\r\n       // setEdit({id,title,description,body})\r\n        // return \r\n        history.push({\r\n            pathname:'/editBlog',\r\n            state:{\r\n                id,\r\n                title,\r\n                description,\r\n                body\r\n            }\r\n        })\r\n    }\r\n    const history = useHistory()\r\n    useEffect(()=>{\r\n        fetch(`/user/${userId}`,{\r\n            headers:{\r\n                Authorization:'Bearer '+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n        .then(res => setProfile(res))\r\n        .catch(err => console.log(err))\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if(image){\r\n\r\n            const data = new FormData()\r\n            data.append('file',image)\r\n            data.append('upload_preset','blogspreset')\r\n            data.append('cloud_name','blogsimagesaccount')\r\n            fetch('https://api.cloudinary.com/v1_1/blogsimagesaccount/image/upload',{\r\n                method:'post',\r\n                body:data\r\n            }).then(res=>res.json())\r\n                .then(data=>{\r\n                    fetch('/updateProfilePic',{\r\n                        method:'put',\r\n                        headers:{\r\n                            'Content-Type':'application/json',\r\n                            'Authorization':'Bearer '+localStorage.getItem(\"jwt\")\r\n                        },\r\n                        body:JSON.stringify(\r\n                            {pic:data.url}\r\n                        )\r\n                    }).then(data => data.json())\r\n                    .then(data => {\r\n                        const oldUser = JSON.parse(localStorage.getItem('user'))\r\n                        oldUser.pic = data.pic\r\n                        localStorage.setItem('user',JSON.stringify(oldUser))\r\n                        setProfile({user:{\r\n                            ...profile.user,\r\n                            pic:data.pic\r\n                          },\r\n                          posts:profile.posts\r\n                        })\r\n                    })\r\n                })\r\n\r\n\r\n        }\r\n        \r\n    }, [image])\r\n    const uploadFile = (e)=>{\r\n        setImage(e.target.files[0])\r\n        \r\n    }\r\n      const updatePic = () => {\r\n        inputFileRef.current.click();\r\n      }\r\n\r\n    return (\r\n        <div>\r\n            \r\n           {  profile ? <div>\r\n            <div className=\"profile-user\">\r\n                <div className=\"profile-pic-name\">\r\n                     <button className=\"profile-update-button\" onClick={updatePic}><img src={profile.user.pic} alt=\"user display\" width=\"40px\" height=\"50px\"/></button>\r\n                     <h2 className=\"profile-username\">{profile.user.username}</h2>\r\n                </div>\r\n                <div className=\"followers-following\">\r\n                    <p className=\"profile-followers\">{profile.user.followers.length} followers</p>\r\n                    <p className=\"profile-following\">{profile.user.following.length} following</p>\r\n                </div>\r\n\r\n                <input\r\n                     hidden={true}\r\n                    type=\"file\"\r\n                     ref={inputFileRef}\r\n                    onChange={e => uploadFile(e)}\r\n                 />\r\n            </div>\r\n               \r\n                <br/>\r\n                <hr/>\r\n                <div className=\"posts-container\">\r\n                {\r\n                    profile.posts.map(post => \r\n                        {return(<div className=\"profile-posts\" key={post._id}>\r\n                           <button className=\"edit-post-button\" onClick={()=>editPost(post._id,post.title,post.description,post.body)}> <p className=\"profile-title\"><strong>{post.title}</strong></p></button> \r\n                            <p className=\"profile-description\">{post.description}</p>\r\n                        </div>\r\n                        )}\r\n                    )\r\n                }\r\n\r\n                </div>\r\n                \r\n                \r\n                </div>\r\n               :\r\n           <p>Loading...</p>\r\n            \r\n           }\r\n         \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\n\r\n const UserProfile = ()=> {\r\n    return (\r\n        <div>\r\n           <h1>in userProfile</h1> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n","import React from 'react';\r\nimport {convertToRaw, convertFromRaw, EditorState } from 'draft-js';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport '../css/EditBlog.css'\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass EditBlog extends React.Component{\r\n    \r\n    state = {\r\n        editorState: EditorState.createWithContent(convertFromRaw(JSON.parse(this.props.location.state.body))),\r\n        title:this.props.location.state.title,\r\n        description:this.props.location.state.description\r\n      }\r\n      onEditorStateChange = (editorState) => {\r\n        this.setState({\r\n          ...this.state,\r\n          editorState,\r\n        });\r\n      };\r\n      titleChange = (e)=>{\r\n        this.setState({\r\n          ...this.state,\r\n          title:e.target.value\r\n        })\r\n      }\r\n      descriptionChange = (e) =>{\r\n        this.setState({\r\n          ...this.state,\r\n          description:e.target.value\r\n        })\r\n      }\r\n      submitHandler = (e)=>{\r\n        e.preventDefault()\r\n        console.log(this.state.title,this.state.description,this.state.editorState)\r\n        fetch('/updateBlog',{\r\n            method:'put',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                'Authorization':'Bearer '+localStorage.getItem('jwt')\r\n            },\r\n            body:JSON.stringify({\r\n                _id:this.props.location.state.id,\r\n                title:this.state.title,\r\n                description:this.state.description,\r\n                body:JSON.stringify(convertToRaw(this.state.editorState.getCurrentContent())),\r\n                postedOn:Math.round(+new Date()/1000)\r\n                \r\n            })\r\n        }).then(res => res.json()) \r\n        .then(res => console.log(res))\r\n        .catch(err => console.log(err))\r\n        \r\n}\r\n    \r\n    render(){\r\n        \r\n        return(<form className=\"editor-form\" onSubmit={this.submitHandler}>\r\n            <h1>Update Blog</h1>\r\n            <input className=\"editor-input\" type=\"text\"  value={this.state.title} onChange={this.titleChange} required />\r\n            <input className=\"editor-input\"  type=\"text\"  value={this.state.description} onChange={this.descriptionChange} required />\r\n            <Editor\r\n              placeholder=\"Type body of the blog\"\r\n              wrapperClassName=\"demo-wrapper\"\r\n              editorClassName=\"demo-editor\"\r\n              editorState={this.state.editorState}\r\n              onEditorStateChange={this.onEditorStateChange}\r\n            />\r\n            <input className=\"button\" type=\"submit\" placeholder=\"update\"/>\r\n          </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(EditBlog)","import React,{useContext,useReducer,createContext, useEffect} from 'react'\r\nimport Signup from './components/Signup'\r\nimport Signin from './components/Signin'\r\nimport Home from './components/Home'\r\nimport Explore from './components/Explore'\r\nimport { initialState, reducer } from './reducer/userReducer'\r\nimport {BrowserRouter,Route, Switch, useHistory} from 'react-router-dom'\r\nimport Navbar from './components/Navbar'\r\nimport ControlledEditor from './components/ControlledEditor'\r\nimport Profile from './components/Profile'\r\nimport UserProfile from './components/UserProfile'\r\nimport EditBlog from './components/EditBlog'\r\n\r\nexport const UserContext = createContext()\r\n\r\nconst Routing = ()=>{\r\n    const history = useHistory()\r\n    const {state,dispatch} = useContext(UserContext)\r\n    useEffect(()=>{\r\n        const user = JSON.parse(localStorage.getItem(\"user\"))\r\n        if(user){\r\n            dispatch({type:'USER',payload:user})\r\n        }else{\r\n            history.push('/signin')\r\n        }\r\n    },[])\r\n\r\n    return (\r\n        <Switch>\r\n            <Route exact path='/'>\r\n                <Home />\r\n            </Route>\r\n            <Route path='/signup'>\r\n            <Signup />\r\n          </Route>\r\n          <Route path='/signin'>\r\n            <Signin />\r\n          </Route>\r\n          <Route path='/create'>\r\n            <ControlledEditor />\r\n          </Route>\r\n          <Route path='/explore'>\r\n            <Explore />\r\n          </Route>\r\n          <Route exact path='/profile'>\r\n            <Profile />\r\n          </Route>\r\n          <Route path='/profile/:userid'>\r\n            <UserProfile />\r\n          </Route>\r\n          <Route path='/editBlog'>\r\n            <EditBlog />\r\n          </Route>\r\n \r\n        </Switch>\r\n    )\r\n}\r\n\r\n\r\nconst App =()=> {\r\n\r\n    const [state,dispatch] = useReducer(reducer,initialState)\r\n\r\n    return (\r\n        \r\n          <UserContext.Provider value={{state,dispatch}}>\r\n          <BrowserRouter>\r\n             <Navbar />\r\n             <Routing />\r\n          </BrowserRouter>\r\n          </UserContext.Provider>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}